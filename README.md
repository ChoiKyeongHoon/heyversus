# Heyversus

**Heyversus**ëŠ” ì‚¬ìš©ìê°€ ì§ì ‘ íˆ¬í‘œë¥¼ ìƒì„±í•˜ê³  ì°¸ì—¬í•  ìˆ˜ ìˆëŠ” ë™ì ì¸ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤. Next.jsì™€ Supabaseë¥¼ ê¸°ë°˜ìœ¼ë¡œ êµ¬ì¶•ë˜ì–´ ìˆìœ¼ë©°, ì‹¤ì‹œê°„ íˆ¬í‘œ ê²°ê³¼ì™€ ì‚¬ìš©ì ì¸ì¦, í¬ì¸íŠ¸ ì‹œìŠ¤í…œì„ ì œê³µí•©ë‹ˆë‹¤.

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

- **ì‚¬ìš©ì ì¸ì¦**: Supabase Authë¥¼ ì´ìš©í•œ ê°„í¸í•œ íšŒì›ê°€ì…, ë¡œê·¸ì¸, ë¡œê·¸ì•„ì›ƒ ê¸°ëŠ¥.
- **íˆ¬í‘œ ìƒì„± ë° ê´€ë¦¬**:
  - **ë‹¤ì–‘í•œ ì˜µì…˜**: ì§ˆë¬¸ê³¼ ì—¬ëŸ¬ ì„ íƒì§€ë¥¼ í¬í•¨í•˜ëŠ” íˆ¬í‘œë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  - **ê³µê°œ/ë¹„ê³µê°œ ì„¤ì •**: íˆ¬í‘œë¥¼ ëª¨ë“  ì‚¬ëŒì´ ì°¸ì—¬í•  ìˆ˜ ìˆë„ë¡ ê³µê°œí•˜ê±°ë‚˜, ë¡œê·¸ì¸í•œ ì‚¬ìš©ìë§Œ ì°¸ì—¬í•˜ë„ë¡ ì œí•œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  - **ë§Œë£Œ ì‹œê°„ ì„¤ì •**: íˆ¬í‘œ ë§ˆê° ì‹œê°„ì„ ì„¤ì •í•˜ì—¬ ê¸°ê°„ì´ ì§€ë‚œ íˆ¬í‘œëŠ” ìë™ìœ¼ë¡œ ì¢…ë£Œë©ë‹ˆë‹¤.
- **ì‹¤ì‹œê°„ íˆ¬í‘œ ì‹œìŠ¤í…œ**:
  - **ìµëª… íˆ¬í‘œ**: ê³µê°œ íˆ¬í‘œëŠ” ë¡œê·¸ì¸í•˜ì§€ ì•Šì€ ì‚¬ìš©ìë„ ì°¸ì—¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  - **ì¤‘ë³µ íˆ¬í‘œ ë°©ì§€**: ë¡œê·¸ì¸ ì‚¬ìš©ìëŠ” DBë¥¼ í†µí•´, ë¹„ë¡œê·¸ì¸ ì‚¬ìš©ìëŠ” ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ë¥¼ í†µí•´ ì¤‘ë³µ íˆ¬í‘œë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ë°©ì§€í•©ë‹ˆë‹¤.
- **ëŒ€í‘œ íˆ¬í‘œ**: ê´€ë¦¬ìê°€ ì§€ì •í•œ 'ì˜¤ëŠ˜ì˜ íˆ¬í‘œ'ë¥¼ ë©”ì¸ í˜ì´ì§€ì— ë…¸ì¶œí•˜ì—¬ ì‚¬ìš©ì ì°¸ì—¬ë¥¼ ìœ ë„í•©ë‹ˆë‹¤.
- **í¬ì¸íŠ¸ ë° ë­í‚¹**: íˆ¬í‘œì— ì°¸ì—¬í•  ë•Œë§ˆë‹¤ í¬ì¸íŠ¸ë¥¼ íšë“í•˜ê³ , ë‹¤ë¥¸ ì‚¬ìš©ìë“¤ê³¼ì˜ ìˆœìœ„ë¥¼ `SCORE` í˜ì´ì§€ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ì‚¬ìš©ì ê²½í—˜(UX) ìµœì í™”**:
  - **ì‹ ì†í•œ í”¼ë“œë°±**: `sonner` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•˜ì—¬ ì§ê´€ì ì¸ Toast ì•Œë¦¼ì„ ì œê³µí•©ë‹ˆë‹¤.
  - **ìë™ ë¦¬ë””ë ‰ì…˜**: ë¡œê·¸ì¸ í›„ ì´ì „ì— ë³´ë˜ í˜ì´ì§€ë¡œ ìë™ ì´ë™í•˜ì—¬ ì‚¬ìš© íë¦„ì´ ëŠê¸°ì§€ ì•Šë„ë¡ í•©ë‹ˆë‹¤.
  - **ë°ì´í„° ìë™ ê°±ì‹ **: í˜ì´ì§€ì— ë‹¤ì‹œ ë°©ë¬¸í–ˆì„ ë•Œ ìµœì‹  íˆ¬í‘œ ë°ì´í„°ë¥¼ ìë™ìœ¼ë¡œ ë¶ˆëŸ¬ì™€ ë³´ì—¬ì¤ë‹ˆë‹¤.

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

- **í”„ë ˆì„ì›Œí¬**: Next.js (App Router)
- **ì–¸ì–´**: TypeScript
- **ìŠ¤íƒ€ì¼ë§**: Tailwind CSS
- **ë°±ì—”ë“œ (BaaS)**: Supabase (Auth, PostgreSQL, Storage, Edge Functions)
- **UI ì»´í¬ë„ŒíŠ¸**: shadcn/ui
- **ìƒíƒœ ê´€ë¦¬**: React Context (Session Provider)
- **í°íŠ¸ ìµœì í™”**: `next/font`
- **ì•Œë¦¼**: Sonner (Toast notifications)
- **ë°°í¬**: Vercel

## ğŸš€ ì‹œì‘í•˜ê¸°

### 1. í”„ë¡œì íŠ¸ í´ë¡ 

```bash
git clone https://github.com/ChoiKyeongHoon/heyversus.git
cd heyversus
```

### 2. ì¢…ì†ì„± ì„¤ì¹˜

```bash
npm install
```

### 3. Supabase ì„¤ì •

1.  [Supabase](https://supabase.com/)ì— ê°€ì…í•˜ê³  ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
2.  í”„ë¡œì íŠ¸ì˜ **SQL Editor**ë¡œ ì´ë™í•˜ì—¬ `QUERY.md` íŒŒì¼ì— ìˆëŠ” ëª¨ë“  SQL ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ì—¬ í…Œì´ë¸”ê³¼ í•¨ìˆ˜ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.
3.  **Settings > API**ì—ì„œ **Project URL**ê³¼ **Project API Keys**ì˜ `anon (public)` í‚¤ë¥¼ ë³µì‚¬í•©ë‹ˆë‹¤.

### 4. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— `.env.local` íŒŒì¼ì„ ìƒì„±í•˜ê³  ì•„ë˜ ë‚´ìš©ì„ ì±„ì›Œë„£ìŠµë‹ˆë‹¤.

```
NEXT_PUBLIC_SUPABASE_URL=YOUR_SUPABASE_PROJECT_URL
NEXT_PUBLIC_SUPABASE_ANON_KEY=YOUR_SUPABASE_ANON_KEY
```

### 5. ë¡œì»¬ ì„œë²„ ì‹¤í–‰

```bash
npm run dev
```

ì´ì œ ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:3000`ìœ¼ë¡œ ì ‘ì†í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
/
â”œâ”€â”€ public/              # ì •ì  ì—ì…‹ (ì´ë¯¸ì§€, í°íŠ¸ ë“±)
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/             # Next.js App Router í˜ì´ì§€ ë° ë ˆì´ì•„ì›ƒ
â”‚   â”‚   â”œâ”€â”€ page.tsx     # ë©”ì¸ ëœë”© í˜ì´ì§€ (ëŒ€í‘œ íˆ¬í‘œ)
â”‚   â”‚   â”œâ”€â”€ signin/      # ë¡œê·¸ì¸ í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ signup/      # íšŒì›ê°€ì… í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ create-poll/ # íˆ¬í‘œ ìƒì„± í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ polls/       # ì „ì²´ íˆ¬í‘œ ëª©ë¡ í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ poll/[id]/   # íˆ¬í‘œ ìƒì„¸ ë° ê²°ê³¼ í˜ì´ì§€
â”‚   â”‚   â””â”€â”€ score/       # ì‚¬ìš©ì ë­í‚¹(ìŠ¤ì½”ì–´ë³´ë“œ) í˜ì´ì§€
â”‚   â”œâ”€â”€ components/      # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ UI ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ lib/             # ê³µí†µ ìœ í‹¸ë¦¬í‹° ë° Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â””â”€â”€ middleware.ts    # Supabase ì„¸ì…˜ ê´€ë¦¬ ë¯¸ë“¤ì›¨ì–´
â”œâ”€â”€ QUERY.md             # ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ (SQL)
â””â”€â”€ README.md            # í”„ë¡œì íŠ¸ ë¬¸ì„œ
```

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

`QUERY.md` íŒŒì¼ì€ ì „ì²´ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆë¥¼ ì •ì˜í•©ë‹ˆë‹¤. ì£¼ìš” í…Œì´ë¸” ê°„ì˜ ê´€ê³„ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```mermaid
erDiagram
    users ||--|{ profiles : "has one"
    users ||--o{ polls : "creates"
    users ||--o{ user_votes : "casts"

    polls ||--|{ poll_options : "contains"
    polls ||--o{ user_votes : "is voted on"

    poll_options ||--o{ user_votes : "is chosen in"

    users {
        UUID id PK "auth.users"
        string email
        timestamptz created_at
    }

    profiles {
        UUID id PK "FK to auth.users.id"
        string username "UNIQUE"
        int points
        timestamptz updated_at
    }

    polls {
        UUID id PK
        text question
        UUID created_by "FK to auth.users.id (ON DELETE SET NULL)"
        boolean is_public
        boolean is_featured
        timestamptz created_at
        timestamptz expires_at
        varchar status
    }

    poll_options {
        UUID id PK
        UUID poll_id "FK to polls.id (ON DELETE CASCADE)"
        text text
        int votes
        text image_url
    }

    user_votes {
        UUID id PK
        UUID user_id "FK to auth.users.id (ON DELETE CASCADE)"
        UUID poll_id "FK to polls.id (ON DELETE CASCADE)"
        UUID option_id "FK to poll_options.id (ON DELETE CASCADE)"
        timestamptz created_at
        UNIQUE(user_id, poll_id)
    }
```